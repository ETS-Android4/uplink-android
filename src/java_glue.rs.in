use jni_sys::*;

foreign_callback!(callback ActionCallback {
    self_type ActionCallback;
    recvdAction = ActionCallback::recvd_action(&self, action: String);
});

foreign_class!(class Uplink {
    self_type Uplink;
    constructor Uplink::new(_: String) -> Result<Uplink, String>;
    fn Uplink::send(&mut self, _: String, _: String) -> Result<(), String>;
    fn Uplink::respond(&mut self, _: String) -> Result<(), String>;
    fn Uplink::subscribe(&mut self, cb: Box<dyn ActionCallback>) -> Result<(), String>;

    foreign_code r#"
    static {
        System.loadLibrary("uplink_android");
    }
"#;
});
